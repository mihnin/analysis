# –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ: –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ä–∞–∑–Ω—ã—Ö –∫–æ–Ω–≤–µ–Ω—Ü–∏–π —Å–ø–∏—Å–∞–Ω–∏—è

## –ü—Ä–æ–±–ª–µ–º–∞

–í —Ä–∞–∑–Ω—ã—Ö —É—á–µ—Ç–Ω—ã—Ö —Å–∏—Å—Ç–µ–º–∞—Ö —Å–ø–∏—Å–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–æ –ø–æ-—Ä–∞–∑–Ω–æ–º—É:

### –í–∞—Ä–∏–∞–Ω—Ç 1: –°–ø–∏—Å–∞–Ω–∏–µ –∫–∞–∫ –ü–û–õ–û–ñ–ò–¢–ï–õ–¨–ù–û–ï —á–∏—Å–ª–æ
```
–°–ø–∏—Å–∞–Ω–∏–µ = 100  ‚Üí –∏–∑—Ä–∞—Å—Ö–æ–¥–æ–≤–∞–ª–∏ 100 –µ–¥–∏–Ω–∏—Ü —Ç–æ–≤–∞—Ä–∞
```
**–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤:** 1–°, SAP, –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ ERP —Å–∏—Å—Ç–µ–º

**–§–æ—Ä–º—É–ª–∞ –±–∞–ª–∞–Ω—Å–∞:**
```
–û—Å—Ç–∞—Ç–æ–∫ –Ω–∞ –∫–æ–Ω–µ—Ü = –û—Å—Ç–∞—Ç–æ–∫ –Ω–∞ –Ω–∞—á–∞–ª–æ + –ü—Ä–∏—Ö–æ–¥ - –°–ø–∏—Å–∞–Ω–∏–µ
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –°–ø–∏—Å–∞–Ω–∏–µ –∫–∞–∫ –û–¢–†–ò–¶–ê–¢–ï–õ–¨–ù–û–ï —á–∏—Å–ª–æ
```
–°–ø–∏—Å–∞–Ω–∏–µ = -100  ‚Üí —É–º–µ–Ω—å—à–µ–Ω–∏–µ –∑–∞–ø–∞—Å–∞ –Ω–∞ 100 –µ–¥–∏–Ω–∏—Ü
```
**–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤:** –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö —Å–∏—Å—Ç–µ–º–∞—Ö —Å–∫–ª–∞–¥—Å–∫–æ–≥–æ —É—á–µ—Ç–∞, Excel-–æ—Ç—á–µ—Ç–∞—Ö

**–§–æ—Ä–º—É–ª–∞ –±–∞–ª–∞–Ω—Å–∞:**
```
–û—Å—Ç–∞—Ç–æ–∫ –Ω–∞ –∫–æ–Ω–µ—Ü = –û—Å—Ç–∞—Ç–æ–∫ –Ω–∞ –Ω–∞—á–∞–ª–æ + –ü—Ä–∏—Ö–æ–¥ + –°–ø–∏—Å–∞–Ω–∏–µ
(+ –ø–æ—Ç–æ–º—É —á—Ç–æ –°–ø–∏—Å–∞–Ω–∏–µ —É–∂–µ –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–æ–µ)
```

## –†–µ—à–µ–Ω–∏–µ: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è

### ‚úÖ –ß—Ç–æ –¥–æ–±–∞–≤–ª–µ–Ω–æ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

1. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–æ–Ω–≤–µ–Ω—Ü–∏–∏**
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–∞–ª–∞–Ω—Å–∞: –Ω–∞—á–∞–ª–æ + –ø—Ä–∏—Ö–æ–¥ ¬± —Å–ø–∏—Å–∞–Ω–∏–µ = –∫–æ–Ω–µ—Ü
   - –ï—Å–ª–∏ –±–∞–ª–∞–Ω—Å —Å—Ö–æ–¥–∏—Ç—Å—è ‚Üí –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –∑–Ω–∞–∫
   - –ï—Å–ª–∏ –Ω–µ—Ç –±–∞–ª–∞–Ω—Å–∞ ‚Üí —Å–º–æ—Ç—Ä–∏—Ç –Ω–∞ –∑–Ω–∞–∫ –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ –∑–Ω–∞—á–µ–Ω–∏–π

2. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è**
   - –í—Å–µ —Å–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç—Å—è –≤ –ü–û–õ–û–ñ–ò–¢–ï–õ–¨–ù–´–ï –∑–Ω–∞—á–µ–Ω–∏—è
   - –†–∞—Å—á–µ—Ç—ã –≤—Å–µ–≥–¥–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç –∏—Å—Ö–æ–¥–Ω–æ–≥–æ —Ñ–æ—Ä–º–∞—Ç–∞
   - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ –∫–æ–Ω–≤–µ–Ω—Ü–∏–∏

3. **–†—É—á–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)**
   - –†–µ–∂–∏–º AUTO - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
   - –†–µ–∂–∏–º POSITIVE - –¥–∞–Ω–Ω—ã–µ —É–∂–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ
   - –†–µ–∂–∏–º NEGATIVE - –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω–≤–µ—Ä—Å–∏—è
   - –†–µ–∂–∏–º ABS - –≤–∑—è—Ç—å –º–æ–¥—É–ª—å –≤—Å–µ—Ö –∑–Ω–∞—á–µ–Ω–∏–π (–±–µ–∑–æ–ø–∞—Å–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç)

## –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

### –ê–ª–≥–æ—Ä–∏—Ç–º –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∫–æ–Ω–≤–µ–Ω—Ü–∏–∏:

```python
1. –ü—Ä–æ–≤–µ—Ä—è–µ–º –±–∞–ª–∞–Ω—Å —Å –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–º —Å–ø–∏—Å–∞–Ω–∏–µ–º:
   calculated_end = start + arrival - consumption
   if calculated_end ‚âà actual_end:
       ‚Üí POSITIVE (—Å–ø–∏—Å–∞–Ω–∏–µ —É–∂–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ)

2. –ü—Ä–æ–≤–µ—Ä—è–µ–º –±–∞–ª–∞–Ω—Å —Å –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–º —Å–ø–∏—Å–∞–Ω–∏–µ–º:
   calculated_end = start + arrival + consumption  # + –ø–æ—Ç–æ–º—É —á—Ç–æ —É–∂–µ –æ—Ç—Ä–∏—Ü.
   if calculated_end ‚âà actual_end:
       ‚Üí NEGATIVE (–Ω—É–∂–Ω–æ –≤–∑—è—Ç—å –º–æ–¥—É–ª—å)

3. –ï—Å–ª–∏ –±–∞–ª–∞–Ω—Å –Ω–µ —Å—Ö–æ–¥–∏—Ç—Å—è, —Å–º–æ—Ç—Ä–∏–º –Ω–∞ –∑–Ω–∞–∫ –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞:
   if 80% –∑–Ω–∞—á–µ–Ω–∏–π –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–µ:
       ‚Üí NEGATIVE
   elif 80% –∑–Ω–∞—á–µ–Ω–∏–π –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–µ:
       ‚Üí POSITIVE
   else:
       ‚Üí MIXED (–ø—Ä–∏–º–µ–Ω—è–µ–º –º–æ–¥—É–ª—å)
```

### –ü–æ—Å–ª–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è:
```python
# –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è: –í–°–ï–ì–î–ê –¥–µ–ª–∞–µ–º —Å–ø–∏—Å–∞–Ω–∏–µ –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–º
normalized_consumption = abs(original_consumption)
```

## –ü—Ä–∏–º–µ—Ä—ã

### –ü—Ä–∏–º–µ—Ä 1: –ü–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–æ–µ —Å–ø–∏—Å–∞–Ω–∏–µ (—Å—Ç–∞–Ω–¥–∞—Ä—Ç)

**–ò—Å—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:**
```
–ù–∞—á–∞–ª–æ: 100
–ü—Ä–∏—Ö–æ–¥: 50
–°–ø–∏—Å–∞–Ω–∏–µ: 30  ‚Üê –ü–û–õ–û–ñ–ò–¢–ï–õ–¨–ù–û–ï
–ö–æ–Ω–µ—Ü: 120

–ë–∞–ª–∞–Ω—Å: 100 + 50 - 30 = 120 ‚úì
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∞ –∫–æ–Ω–≤–µ–Ω—Ü–∏—è POSITIVE, —Å–ø–∏—Å–∞–Ω–∏–µ –Ω–µ –∏–∑–º–µ–Ω—è–µ—Ç—Å—è

---

### –ü—Ä–∏–º–µ—Ä 2: –û—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–æ–µ —Å–ø–∏—Å–∞–Ω–∏–µ

**–ò—Å—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:**
```
–ù–∞—á–∞–ª–æ: 100
–ü—Ä–∏—Ö–æ–¥: 50
–°–ø–∏—Å–∞–Ω–∏–µ: -30  ‚Üê –û–¢–†–ò–¶–ê–¢–ï–õ–¨–ù–û–ï
–ö–æ–Ω–µ—Ü: 120

–ë–∞–ª–∞–Ω—Å: 100 + 50 + (-30) = 120 ‚úì
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∞ –∫–æ–Ω–≤–µ–Ω—Ü–∏—è NEGATIVE
- –°–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–æ: -30 ‚Üí 30

---

### –ü—Ä–∏–º–µ—Ä 3: –°–º–µ—à–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

**–ò—Å—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:**
```
–°–ø–∏—Å–∞–Ω–∏–µ: [10, -5, 15, -8, 12, 20, -3]
          60% –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã—Ö, 40% –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã—Ö
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∞ –∫–æ–Ω–≤–µ–Ω—Ü–∏—è MOSTLY_POSITIVE
- –ü—Ä–∏–º–µ–Ω–µ–Ω –º–æ–¥—É–ª—å –∫–æ –≤—Å–µ–º –∑–Ω–∞—á–µ–Ω–∏—è–º: [10, 5, 15, 8, 12, 20, 3]

---

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏

### –í UI (Streamlit):

1. **–ó–∞–≥—Ä—É–∑–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ**

2. **–í—ã–±–µ—Ä–∏—Ç–µ –∫–æ–ª–æ–Ω–∫—É —Å–ø–∏—Å–∞–Ω–∏—è**
   ```
   ‚òë –ï—Å—Ç—å –∫–æ–ª–æ–Ω–∫–∞ —Å —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏–º —Å–ø–∏—Å–∞–Ω–∏–µ–º/—Ä–∞—Å—Ö–æ–¥–æ–º
   ```

3. **–í—ã–±–µ—Ä–∏—Ç–µ —Ä–µ–∂–∏–º (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)**
   ```
   ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∑–Ω–∞–∫–∞ —Å–ø–∏—Å–∞–Ω–∏—è

   ‚óã AUTO (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)  ‚Üê –≤—ã–±—Ä–∞–Ω–æ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
   ‚óã POSITIVE
   ‚óã NEGATIVE
   ‚óã ABS
   ```

4. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ –∞–Ω–∞–ª–∏–∑**
   ```
   –°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
   - –û–ø—Ä–µ–¥–µ–ª–∏—Ç –∫–æ–Ω–≤–µ–Ω—Ü–∏—é
   - –ù–æ—Ä–º–∞–ª–∏–∑—É–µ—Ç –¥–∞–Ω–Ω—ã–µ
   - –ü–æ–∫–∞–∂–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
   - –í—ã–ø–æ–ª–Ω–∏—Ç —Ä–∞—Å—á–µ—Ç—ã —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏
   ```

### –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ:

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –∞–Ω–∞–ª–∏–∑–∞ –≤—ã —É–≤–∏–¥–∏—Ç–µ:
```
[INFO] –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è —Å–ø–∏—Å–∞–Ω–∏—è: –°–ø–∏—Å–∞–Ω–∏–µ –∫–∞–∫ –ü–û–õ–û–ñ–ò–¢–ï–õ–¨–ù–û–ï —á–∏—Å–ª–æ
(–±–∞–ª–∞–Ω—Å —Å—Ö–æ–¥–∏—Ç—Å—è –≤ 100.0% —Å–ª—É—á–∞–µ–≤)
```

–∏–ª–∏

```
[INFO] –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è —Å–ø–∏—Å–∞–Ω–∏—è: –°–ø–∏—Å–∞–Ω–∏–µ –∫–∞–∫ –û–¢–†–ò–¶–ê–¢–ï–õ–¨–ù–û–ï —á–∏—Å–ª–æ
(–±–∞–ª–∞–Ω—Å —Å—Ö–æ–¥–∏—Ç—Å—è –≤ 100.0% —Å–ª—É—á–∞–µ–≤) ‚Üí –ü—Ä–∏–º–µ–Ω–µ–Ω –º–æ–¥—É–ª—å
```

---

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### ‚úÖ –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å AUTO (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
- **–í—Å–µ–≥–¥–∞**, –µ—Å–ª–∏ –Ω–µ —É–≤–µ—Ä–µ–Ω—ã –≤ —Ñ–æ—Ä–º–∞—Ç–µ –¥–∞–Ω–Ω—ã—Ö
- –†–∞–±–æ—Ç–∞–µ—Ç —Å –ª—é–±—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Å–ø–æ—Å–æ–± –æ–±—Ä–∞–±–æ—Ç–∫–∏
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è

### ‚úÖ –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å POSITIVE
- –£–≤–µ—Ä–µ–Ω—ã —á—Ç–æ –¥–∞–Ω–Ω—ã–µ –≤ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–º —Ñ–æ—Ä–º–∞—Ç–µ (1–°, SAP)
- –í—Å–µ –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–µ
- –î–ª—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –ø—Ä–∏–º–µ–Ω–∏—Ç—Å—è abs()

### ‚úÖ –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å NEGATIVE
- –£–≤–µ—Ä–µ–Ω—ã —á—Ç–æ —Å–∏—Å—Ç–µ–º–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è
- –•–æ—Ç–∏—Ç–µ –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –∏–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –∑–Ω–∞–∫
- –î–∞–Ω–Ω—ã–µ –∏–∑ Excel –≥–¥–µ —Å–ø–∏—Å–∞–Ω–∏–µ = –º–∏–Ω—É—Å

### ‚úÖ –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å ABS
- –ï—Å—Ç—å —Å–º–µ—à–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (–∏ + –∏ -)
- –ù–µ —É–≤–µ—Ä–µ–Ω—ã –≤ –∫–∞—á–µ—Å—Ç–≤–µ –¥–∞–Ω–Ω—ã—Ö
- –•–æ—Ç–∏—Ç–µ "–±–µ–∑–æ–ø–∞—Å–Ω—ã–π" –≤–∞—Ä–∏–∞–Ω—Ç - –ø—Ä–æ—Å—Ç–æ –º–æ–¥—É–ª—å

---

## –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏

### –ú–µ—Ç–æ–¥ 1: –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–∞–ª–∞–Ω—Å–∞ –≤—Ä—É—á–Ω—É—é

```excel
=–ï–°–õ–ò(
  ABS((–ù–∞—á–∞–ª–æ + –ü—Ä–∏—Ö–æ–¥ - –°–ø–∏—Å–∞–Ω–∏–µ) - –ö–æ–Ω–µ—Ü) < 0.01;
  "–ë–∞–ª–∞–Ω—Å OK (–ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–æ–µ)";
  –ï–°–õ–ò(
    ABS((–ù–∞—á–∞–ª–æ + –ü—Ä–∏—Ö–æ–¥ + –°–ø–∏—Å–∞–Ω–∏–µ) - –ö–æ–Ω–µ—Ü) < 0.01;
    "–ë–∞–ª–∞–Ω—Å OK (–æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–æ–µ)";
    "–û—à–∏–±–∫–∞ –±–∞–ª–∞–Ω—Å–∞"
  )
)
```

### –ú–µ—Ç–æ–¥ 2: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç

```bash
python test_consumption_conventions.py
```

–°–∫—Ä–∏–ø—Ç –ø—Ä–æ–≤–µ—Ä–∏—Ç:
- ‚úÖ –ü–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–æ–µ —Å–ø–∏—Å–∞–Ω–∏–µ
- ‚úÖ –û—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–æ–µ —Å–ø–∏—Å–∞–Ω–∏–µ
- ‚úÖ –°–º–µ—à–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
- ‚úÖ –í–∞—à–∏ —Ä–µ–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

---

## FAQ

### Q: –ê –µ—Å–ª–∏ –≤ –º–æ–∏—Ö –¥–∞–Ω–Ω—ã—Ö —Å–ø–∏—Å–∞–Ω–∏–µ –∏–Ω–æ–≥–¥–∞ +, –∏–Ω–æ–≥–¥–∞ -?

**A:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ä–µ–∂–∏–º AUTO –∏–ª–∏ ABS. –°–∏—Å—Ç–µ–º–∞ –ø—Ä–∏–º–µ–Ω–∏—Ç –º–æ–¥—É–ª—å –∫–æ –≤—Å–µ–º –∑–Ω–∞—á–µ–Ω–∏—è–º –∏ –ø—Ä–µ–¥—É–ø—Ä–µ–¥–∏—Ç –≤–∞—Å –æ–± —ç—Ç–æ–º.

### Q: –ö–∞–∫ –ø–æ–Ω—è—Ç—å, –∫–∞–∫–æ–π —Ñ–æ—Ä–º–∞—Ç —É –º–æ–∏—Ö –¥–∞–Ω–Ω—ã—Ö?

**A:**
1. –û—Ç–∫—Ä–æ–π—Ç–µ Excel
2. –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –Ω–∞ –∫–æ–ª–æ–Ω–∫—É —Å–ø–∏—Å–∞–Ω–∏—è
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–æ—Ä–º—É–ª—É –±–∞–ª–∞–Ω—Å–∞ (—Å–º. –≤—ã—à–µ)
4. –ò–õ–ò –ø—Ä–æ—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ AUTO - —Å–∏—Å—Ç–µ–º–∞ —Å–∞–º–∞ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç

### Q: –ß—Ç–æ –µ—Å–ª–∏ AUTO –æ–ø—Ä–µ–¥–µ–ª–∏–ª –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ?

**A:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å (–¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å >80%)
2. –ï—Å–ª–∏ <80% - –¥–∞–Ω–Ω—ã–µ –Ω–µ–æ–¥–Ω–æ–∑–Ω–∞—á–Ω—ã–µ
3. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ä—É—á–Ω–æ–π —Ä–µ–∂–∏–º (POSITIVE/NEGATIVE/ABS)
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–∞—á–µ—Å—Ç–≤–æ –∏—Å—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

### Q: –ú–æ–∂–Ω–æ –ø—Ä–æ—Å—Ç–æ –≤—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–æ–¥—É–ª—å (ABS)?

**A:** –î–∞, —ç—Ç–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ! –ù–æ:
- ‚úÖ –ì–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚ö†Ô∏è –¢–µ—Ä—è–µ—Ç—Å—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± –∏—Å—Ö–æ–¥–Ω–æ–º —Ñ–æ—Ä–º–∞—Ç–µ
- ‚ö†Ô∏è –ù–µ –≤–∏–¥–Ω–æ –ø—Ä–æ–±–ª–µ–º –≤ –¥–∞–Ω–Ω—ã—Ö

AUTO —Ä–µ–∂–∏–º –ª—É—á—à–µ, –ø–æ—Ç–æ–º—É —á—Ç–æ:
- ‚úÖ –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫–∞–∫–æ–π —Ñ–æ—Ä–º–∞—Ç —É –≤–∞—à–∏—Ö –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å
- ‚úÖ –í—ã—è–≤–ª—è–µ—Ç –ø—Ä–æ–±–ª–µ–º—ã (–µ—Å–ª–∏ —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å –Ω–∏–∑–∫–∞—è)

### Q: –ü–æ–≤–ª–∏—è–µ—Ç –ª–∏ —ç—Ç–æ –Ω–∞ –º–æ–∏ —Å—Ç–∞—Ä—ã–µ —Ä–∞—Å—á–µ—Ç—ã?

**A:** –ù–µ—Ç, –µ—Å–ª–∏ –≤—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ë–ï–ó –∫–æ–ª–æ–Ω–∫–∏ —Å–ø–∏—Å–∞–Ω–∏—è.

–ï—Å–ª–∏ –í–´ –î–û–ë–ê–í–ò–õ–ò –∫–æ–ª–æ–Ω–∫—É —Å–ø–∏—Å–∞–Ω–∏—è:
- ‚úÖ –†–∞—Å—á–µ—Ç—ã —Å—Ç–∞–Ω—É—Ç –¢–û–ß–ù–ï–ï
- ‚úÖ –°—Ä–µ–¥–Ω–µ–µ —Å–ø–∏—Å–∞–Ω–∏–µ –±—É–¥–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–º
- ‚úÖ –í—Å–µ –º–µ—Ç—Ä–∏–∫–∏ —Å—Ç–∞–Ω—É—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏

---

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –§—É–Ω–∫—Ü–∏–∏ –≤ data_validation.py:

```python
# –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–æ–Ω–≤–µ–Ω—Ü–∏–∏
detect_consumption_convention(
    df, consumption_column,
    start_column, end_column,
    arrival_column=None
)

# –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è
normalize_consumption(
    df, consumption_column,
    convention='AUTO',
    start_column=None,
    end_column=None,
    arrival_column=None
)

# –ê–Ω–∞–ª–∏–∑ –∏ –ø–µ—á–∞—Ç—å
print_consumption_analysis(...)
```

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ historical_analysis.py:

```python
def analyze_historical_data(..., consumption_convention='AUTO'):
    # –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è
    if consumption_column:
        df, detection = dv.normalize_consumption(
            df, consumption_column,
            convention=consumption_convention,
            ...
        )
        print(f"[INFO] {detection['recommendation']}")

    # –î–∞–ª—å—à–µ —Ä–∞—Å—á–µ—Ç—ã —Å –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
    ...
```

---

## –ò—Ç–æ–≥–∏

‚úÖ **–ü—Ä–æ–±–ª–µ–º–∞ —Ä–µ—à–µ–Ω–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é:**
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–æ–Ω–≤–µ–Ω—Ü–∏–∏ (+ –∏–ª–∏ -)
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
- –†—É—á–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
- –ü–æ–ª–Ω–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–∞–º–∏

‚úÖ **–†–∞–±–æ—Ç–∞–µ—Ç —Å –ª—é–±—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏:**
- 1–°, SAP (–ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–æ–µ —Å–ø–∏—Å–∞–Ω–∏–µ)
- Excel-–æ—Ç—á–µ—Ç—ã (–æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–æ–µ —Å–ø–∏—Å–∞–Ω–∏–µ)
- –°–º–µ—à–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (–∏ + –∏ -)
- –ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (–ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ)

‚úÖ **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
- –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é AUTO —Ä–µ–∂–∏–º (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
- –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ —Ä—É—á–Ω–æ–π –≤—ã–±–æ—Ä
- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è
- –ì–∞—Ä–∞–Ω—Ç–∏—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏ —Ä–∞—Å—á–µ—Ç–æ–≤

üéØ **–í–´–í–û–î: –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ç–µ–ø–µ—Ä—å —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –ª—é–±—ã–º–∏ —Ñ–æ—Ä–º–∞—Ç–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö!**
